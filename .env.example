# =============================================================================
# Email Parser Configuration
# =============================================================================

# =============================================================================
# REQUIRED: Google API Credentials
# =============================================================================

# Path to Google OAuth client secrets file
GOOGLE_CLIENT_SECRETS=./credentials/client_secret.json

# Path to OAuth token files (relative to project root or absolute)
# These files are created by running: python scripts/bootstrap_oauth.py
GOOGLE_GMAIL_TOKEN=./credentials/token_gmail.json
GOOGLE_SHEETS_TOKEN=./credentials/token_sheets.json

# Gmail API scopes (comma-separated)
GOOGLE_GMAIL_SCOPES=https://www.googleapis.com/auth/gmail.readonly

# Google Sheets API scopes (comma-separated)
GOOGLE_SHEETS_SCOPES=https://www.googleapis.com/auth/spreadsheets,https://www.googleapis.com/auth/drive

# =============================================================================
# REQUIRED: Gmail Configuration
# =============================================================================

# Gmail user (usually "me" for the authenticated user)
GMAIL_USER=me

# Gmail search query (default: exclude spam and trash)
# See: https://support.google.com/mail/answer/7190
GMAIL_QUERY=-in:spam -in:trash

# Storage key for Gmail pointer (last processed message ID)
GMAIL_POINTER_KEY=gmail:last_processed_id

# Maximum number of messages to process per batch
GMAIL_BATCH_LIMIT=200

# =============================================================================
# REQUIRED: Google Sheets Configuration
# =============================================================================

# Google Sheet ID (from the URL: https://docs.google.com/spreadsheets/d/{SHEET_ID}/edit)
GOOGLE_SHEET_ID=

# Worksheet/tab name in the spreadsheet
SHEET_WORKSHEET=

# Header row number (1-based, row with column names)
HEADER_ROW=3

# Starting row number (1-based, usually 2 to skip header)
START_ROW=2

# Column letters for data (A=1, B=2, C=3, etc.)
COL_COMPANY=A
COL_LINK=B
COL_STATUS=C

# =============================================================================
# OPTIONAL: State Storage Configuration
# =============================================================================

# Redis connection URL (alternative to REDIS_HOST/PORT/DB)
# Format: redis://host:port/db
REDIS_URL=redis://localhost:6379/0

# Enable Redis for persistent storage (recommended for production)
# If false, uses in-memory storage (state lost on restart)
USE_REDIS=false

# Redis connection settings (only used if USE_REDIS=true and REDIS_URL not set)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# State file path (used if USE_REDIS=false)
STATE_FILE=./.state/state.json

# =============================================================================
# OPTIONAL: Matching Strategy
# =============================================================================

# Strategy for matching emails to companies
# Options: domain_from_link, name_match, etc.
MATCH_STRATEGY=domain_from_link

# =============================================================================
# OPTIONAL: Logging Configuration
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Path to log file (leave empty for console-only logging)
LOG_FILE=

# Timezone for logging and timestamps
TIMEZONE=Europe/Dublin

# =============================================================================
# OPTIONAL: OAuth Auto-Reauthorization
# =============================================================================

# Automatically start OAuth flow if token refresh fails (requires browser)
# WARNING: Only works in interactive environments, not on headless servers
AUTO_REAUTHORIZE=false

# =============================================================================
# OPTIONAL: Scheduler Configuration
# =============================================================================

# Enable periodic execution (set to true for continuous operation)
SCHEDULER_ENABLED=false

# Interval between pipeline runs in seconds (default: 300 = 5 minutes)
SCHEDULER_INTERVAL=300

# =============================================================================
# OPTIONAL: Health Check Configuration
# =============================================================================

# Enable health check HTTP server
HEALTH_CHECK_ENABLED=true

# Health check server port
HEALTH_CHECK_PORT=8080
